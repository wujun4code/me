---
date: "2018-10-09"
title: "Kubernetes 的一些看法"
category: "Cloud"
---

## 容器技术和超级集群
关于这个我不是很了解最核心的内核，但是我有一个大概的认知：

> 容器技术是在虚拟机技术之后进一步将物理资源向更快更细更易用的方向递的一次大跨步发展。

### 集群和分布式

现如今稍微上百万的活跃用户的后端一定是复杂的架构设计，一般来说集群和分布式都是基础，分布式的每一环上的子模块都应该是一个高可用的集群，才能顶住百万活跃用户的消费。

### 集群 = 容器 * n

在我有限的认知内，我要是自己现在搞集群，肯定是走一套负载+内网 dns+多 VM + 镜像复制来实现一个集群，这个是我有限的操作能力下可以实现的，但是如果使用容器的话，一台机器上我就可以模拟一个集群的行为，并且在扩容的时候，很有可能可以共享同一份配置文件。

### 分布式 = 集群 * n

分布式的本质是将复杂的任务拆解成为一个一个独立的小任务，然后交由任务链上每一个集群去处理，可能是并行也可能是串行，但是结果是稳定可预期的，因此分布式可以理解为一个拥有 n 个集群的大池子。


### 超级集群 = 分布式 * n

最后回到我们说的大集群，每一个超级集群对应的就是多个被严谨设计和规划的几个大的分布式的任务。

## Kubernetes 的登场

Kubernetes 的亲爹 Google 总是这样，搞出一个东西，很牛逼，自己用着挺爽，开出来，大家免费用，然后他就不管了，最后闲的没事就出来关掉它。

但是我觉得 Kubernetes 不会走到那条路。

Kubernetes 借用了 Docker 的容器技术，最后的目标就是，将你拥有的物理资源统一的交给 Kubernetes 去管理，它将帮助你实现如下需求：

1. 所有物理资源的调度和实时状态监测
2. 分布式/集群的业务逻辑的统一部署和管理
3. 容器的超级管理员

## Kubernetes 现状

目前已知的云服务/云计算厂商都在支持 Kubernetes 的部署和管理，并且 Portal 可能做得各种花样，很高兴能期待一下 Serverless 的时代。

## Kubernetes 的展望

未来可能一个微信的整个后端，就是一个配置文件，扔给腾讯云的 Kubernetes 服务器，根据用量 Kubernetes 会自动的为每一个分布式任务/集群/容器做出对应的调整，另外加上一些常规的日志分析，甚至可能是 AI 的预判，繁忙如微信的后端服务，也可以交给 Kubernetes 做一个超级的运维 SA。

## 总结

理想很丰满，现实很骨感，不妨我们可以从一个简单的超级集群开始，近期我将会部署一个 Parse + kuzzle + airnotifier 的集群来尝试一下。

